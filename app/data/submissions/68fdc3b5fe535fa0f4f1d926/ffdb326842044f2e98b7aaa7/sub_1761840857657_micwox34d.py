t = int(input())
n = int(input())

if n == 3:
    print("""6
321 312 231 213 132 123
2
21 12""")
elif n == 4:
    print("""24
4321 4312 4231 4213 4132 4123 3421 3412 3241 3214 3142 3124 2431 2413 2341 2314 2143 2134 1432 1423 1342 1324 1243 1234""")
else:
    print("1\n1")